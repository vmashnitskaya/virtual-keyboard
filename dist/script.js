!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){a(2),e.exports=a(1)},function(e,t,a){},function(e,t,a){"use strict";function s(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.r(t);var r=function(){function e(t){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"handleMouseDown",(function(e){if(e.target.classList.contains("keyboard__key"))switch(e.target.classList.add("animated"),e.target.textContent){case"Backspace":case"Del":a.textarea.value=a.textarea.value.substring(0,a.textarea.value.length-1);break;case"Caps lock":a.changeCapsLockColor(document.querySelector(".CapsLock.".concat(a.properties.lang))),a.toggleCapsLock();break;case"Shift":a.toggleCapsLock();break;case"Enter":a.textarea.value+="\n";break;case"Space":a.textarea.value+=" ";break;case"Tab":a.textarea.value+="    ";break;case"Alt":case"Ctrl":case"Win":break;default:a.textarea.value+=a.properties.capsLock?e.target.textContent.toUpperCase():e.target.textContent.toLowerCase()}})),n(this,"handleMouseUp",(function(e){e.target.classList.contains("animated")&&(e.target.classList.remove("animated"),"Shift"===e.target.textContent&&a.toggleCapsLock())})),n(this,"handleKeyDown",(function(e){if(a.detectLanguage(e),a.pressed.add(e.code),document.querySelectorAll(1===e.key.length&&"Space"!==e.code?".code".concat(e.key.charCodeAt(0)):".".concat(e.code)).forEach((function(e){return e.classList.add("animated")})),a.pressed.has("CapsLock")){var t=document.querySelector(".".concat(e.code,".").concat(a.properties.lang));a.changeCapsLockColor(t),a.toggleCapsLock()}if(2===a.pressed.size&&a.pressed.has("ShiftLeft")&&a.pressed.has("AltLeft")&&(a.initAFterLangChange(),a.properties.capsLock&&document.querySelector(".CapsLock.".concat(a.properties.lang)).classList.add("highlighted")),a.pressed.has("Tab")&&(a.textarea.value+="    ",a.textarea.focus()),a.pressed.has("ShiftLeft")&&!a.pressed.has("AltLeft")||a.pressed.has("ShiftRight")){if(e.repeat)return;a.toggleCapsLock()}switch(!0){case a.pressed.has("ArrowUp"):a.textarea.value+="△",e.preventDefault();break;case a.pressed.has("ArrowDown"):a.textarea.value+="▽",e.preventDefault();break;case a.pressed.has("ArrowLeft"):a.textarea.value+="◁",e.preventDefault();break;case a.pressed.has("ArrowRight"):a.textarea.value+="▷",e.preventDefault()}})),n(this,"handleKeyUp",(function(e){document.querySelectorAll(1===e.key.length&&"Space"!==e.code?".code".concat(e.key.charCodeAt(0)):".".concat(e.code)).forEach((function(e){return e.classList.remove("animated")})),(1===a.pressed.size&&a.pressed.has("ShiftLeft")||1===a.pressed.size&&a.pressed.has("ShiftRight"))&&a.toggleCapsLock(),a.pressed.clear()})),this.properties={capsLock:!1,lang:window.localStorage.getItem("lang")?window.localStorage.getItem("lang"):"en"},this.altphabets={keyLayoutEn:["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del","Caps lock","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","/","&#9651","Shift","Ctrl","Win","Alt","Space","&#9665","&#9661","&#9655"],keyLayoutRu:["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Del","Caps lock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",".","&#9651","Shift","Ctrl","Win","Alt","Space","&#9665","&#9661","&#9655"]},this.elements={main:null,keyContainer:null,keys:[]},this.pressed=new Set,this.createKeyboard(t)}var t,a,r;return t=e,r=[{key:"createKeys",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];var n=document.createDocumentFragment();return e.forEach((function(e){var t,s=document.createElement("button");switch(s.setAttribute("type","button"),(t=s.classList).add.apply(t,["keyboard__key"].concat(a)),s.innerHTML=e,!0){case"Backspace"===e:s.classList.add("keyboard__key-wide","".concat(e));break;case"Del"===e:s.classList.add("keyboard__key-small","Delete");break;case"Caps lock"===e:s.classList.add("keyboard__key-medium","CapsLock");break;case"Shift"===e:n.querySelector(".ShiftLeft")?s.classList.add("keyboard__key-medium","ShiftRight"):s.classList.add("keyboard__key-medium","ShiftLeft");break;case"Enter"===e:s.classList.add("keyboard__key-enter","".concat(e));break;case"Space"===e:s.classList.add("keyboard__key-extra-wide","".concat(e));break;case"Tab"===e:s.classList.add("keyboard__key-small","".concat(e));break;case"Win"===e:s.classList.add("keyboard__key-small","MetaLeft");break;case"Alt"===e:s.classList.add("keyboard__key-small","AltLeft");break;case"Ctrl"===e:s.classList.add("keyboard__key-small","ControlLeft");break;case"&#9651"===e:s.classList.add("ArrowUp");break;case"&#9665"===e:s.classList.add("ArrowLeft");break;case"&#9661"===e:s.classList.add("ArrowDown");break;case"&#9655"===e:s.classList.add("ArrowRight");break;default:s.classList.add("code".concat(e.toUpperCase().charCodeAt(0)),"code".concat(e.toLowerCase().charCodeAt(0)))}if(n.append(s),"Backspace"===e||"Del"===e||"Enter"===e||s.classList.contains("ShiftRight")){var r,o=document.createElement("br");(r=o.classList).add.apply(r,a),n.append(o)}})),n}}],(a=[{key:"createKeyboard",value:function(t){this.elements.main=document.createElement("div"),this.elements.keyContainer=document.createElement("div"),this.elements.main.classList.add("keyboard"),this.elements.keyContainer.classList.add("keyboard__keys"),"en"===this.properties.lang?(this.elements.keyContainer.append(e.createKeys(this.altphabets.keyLayoutEn,"en")),this.elements.keyContainer.append(e.createKeys(this.altphabets.keyLayoutRu,"ru","hidden"))):(this.elements.keyContainer.append(e.createKeys(this.altphabets.keyLayoutEn,"en","hidden")),this.elements.keyContainer.append(e.createKeys(this.altphabets.keyLayoutRu,"ru"))),this.elements.keyContainer.addEventListener("mousedown",this.handleMouseDown,!0),this.elements.keyContainer.addEventListener("mouseup",this.handleMouseUp,!0),this.elements.main.append(this.elements.keyContainer),t.append(this.elements.main),this.elements.keys=this.elements.keyContainer.querySelectorAll(".keyboard__key");var a=document.querySelector("body");a.addEventListener("keydown",this.handleKeyDown),a.addEventListener("keyup",this.handleKeyUp)}},{key:"setTextarea",value:function(e){this.textarea=e}},{key:"changeLanguage",value:function(){this.properties.lang="en"===this.properties.lang?"ru":"en",window.localStorage.setItem("lang",this.properties.lang)}},{key:"initAFterLangChange",value:function(){this.changeLanguage();var e="en"===this.properties.lang?["en","ru"]:["ru","en"];document.querySelectorAll(".".concat(e[0])).forEach((function(e){e.classList.remove("hidden")})),document.querySelectorAll(".".concat(e[1])).forEach((function(e){return e.classList.add("hidden")}))}},{key:"toggleCapsLock",value:function(){this.properties.capsLock=!this.properties.capsLock,this.changeRegister()}},{key:"changeRegister",value:function(){for(var e=0;e<this.elements.keys.length;e+=1){var t=this.elements.keys[e];1===t.textContent.length&&(t.textContent=this.properties.capsLock?t.textContent.toUpperCase():t.textContent.toLowerCase())}}},{key:"changeCapsLockColor",value:function(e){e.classList.contains("highlighted","".concat(this.properties.lang))?e.classList.remove("highlighted"):e.classList.contains("highlighted","".concat(this.properties.lang))||e.classList.add("highlighted")}},{key:"detectLanguage",value:function(e){(/[a-zA-Z]/.test(e.key)&&1===e.key.length&&"Space"!==e.code&&"ru"===this.properties.lang||/[а-яА-Я]/i.test(e.key)&&1===e.key.length&&"Space"!==e.code&&"en"===this.properties.lang)&&this.initAFterLangChange()}}])&&s(t.prototype,a),r&&s(t,r),e}(),o=document.querySelector("body"),c=document.createElement("div");c.classList.add("wrapper"),o.append(c);var i=document.createElement("textarea");i.autofocus=!0,c.append(i),new r(c).setTextarea(i);var l=document.createElement("div");l.classList.add("note"),l.innerHTML="Keyboard created for Windows OS. <br> Change language shorcut: Shift(left)+Alt(left)",c.append(l)}]);